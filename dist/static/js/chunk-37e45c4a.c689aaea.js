(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37e45c4a"],{"297b":function(e,t,s){},"308f":function(e,t,s){"use strict";s.d(t,"r",(function(){return a})),s.d(t,"p",(function(){return i})),s.d(t,"o",(function(){return r})),s.d(t,"q",(function(){return n})),s.d(t,"u",(function(){return l})),s.d(t,"t",(function(){return o})),s.d(t,"s",(function(){return u})),s.d(t,"d",(function(){return d})),s.d(t,"i",(function(){return v})),s.d(t,"j",(function(){return p})),s.d(t,"c",(function(){return f})),s.d(t,"h",(function(){return _})),s.d(t,"e",(function(){return m})),s.d(t,"k",(function(){return b})),s.d(t,"l",(function(){return h})),s.d(t,"m",(function(){return j})),s.d(t,"n",(function(){return C})),s.d(t,"f",(function(){return k})),s.d(t,"a",(function(){return y})),s.d(t,"b",(function(){return g})),s.d(t,"g",(function(){return S}));var c=s("b775");function a(e,t){return Object(c["a"])({url:"/services/app/ProjectService/GetProjectInfosBySearchAndUserid?search="+e+"&userid="+t,method:"get"})}function i(e){return Object(c["a"])({url:"/services/app/ProjectService/GetProjectInfoByID?Id="+e,method:"get"})}function r(e){return Object(c["a"])({url:"/services/app/ProjectService/GetProjectEditDevice?projectid="+e,method:"get"})}function n(e){return Object(c["a"])({url:"/services/app/ProjectService/GetProjectMemberListByProjectId?id="+e,method:"get"})}function l(e){return Object(c["a"])({url:"/services/app/ProjectService/ProjectInfoUpdate",method:"post",data:e})}function o(){return Object(c["a"])({url:"/services/app/ProjectService/GetUserByProjectID",method:"get"})}function u(){return Object(c["a"])({url:"/services/app/ProjectService/GetUnUserDevice",method:"get"})}function d(e){return Object(c["a"])({url:"/services/app/ProjectService/CreatProjectInfo",method:"post",data:e})}function v(){return Object(c["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroups",method:"get"})}function p(e){return Object(c["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroupsBySearch?search="+e,method:"get"})}function f(e){return Object(c["a"])({url:"/services/app/DeviceGroupService/CreatDeviceGroup",method:"post",data:e})}function _(e){return Object(c["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroupByGroupID?id="+e,method:"get"})}function m(e){return Object(c["a"])({url:"/services/app/DeviceGroupService/DeviceGroupUpdate",method:"post",data:e})}function b(e){return Object(c["a"])({url:"/services/app/DeviceService/GetDevicePropertyListByTypeID?id="+e,method:"get"})}function h(){return Object(c["a"])({url:"/services/app/DeviceService/GetDeviceTypeList",method:"get"})}function j(){return Object(c["a"])({url:"/services/app/AssetService/GetAssetInfos",method:"get"})}function C(e,t){return Object(c["a"])({url:"/services/app/AssetService/GetAssetInfoBySearch?type="+e+"&search="+t,method:"get"})}function k(e){return Object(c["a"])({url:"/services/app/AssetService/GetAssetInfoByID?id="+e,method:"get"})}function y(e,t,s){return Object(c["a"])({url:"/services/app/ReportService/GetReport_DeviceDay?devID="+e+"&start="+t+"&end="+s,method:"get"})}function g(e,t,s){return Object(c["a"])({url:"/services/app/ReportService/GetReport_ProjectDay?projectID="+e+"&start="+t+"&end="+s,method:"get"})}function S(e){return Object(c["a"])({url:"/services/app/AssetService/GetCirculationByAssetID?id="+e,method:"get"})}},c61b:function(e,t,s){"use strict";s.r(t);var c=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"app-container"},[c("img",{staticClass:"back_icon",attrs:{src:s("ccfe"),alt:""},on:{click:e.back}}),c("div",{staticClass:"container_wrap"},[c("div",{staticClass:"con_tit"},[e._v(" 添加设备 ")]),c("div",{staticClass:"table_wrap"},[c("div",{staticClass:"con_line"},[c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("设备名称：")]),c("div",{staticClass:"select_con"},[c("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.dev_name,callback:function(t){e.dev_name=t},expression:"dev_name"}})],1)]),c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("编号")]),c("div",{staticClass:"select_con"},[c("el-input",{attrs:{placeholder:"请输入设备型号"},model:{value:e.dev_type,callback:function(t){e.dev_type=t},expression:"dev_type"}})],1)]),c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("设备ID：")]),c("div",{staticClass:"select_con"},[c("el-input",{attrs:{placeholder:"请输入设备编号"},model:{value:e.dev_num,callback:function(t){e.dev_num=t},expression:"dev_num"}})],1)]),c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("制造日期：")]),c("div",{staticClass:"select_time"},[c("el-date-picker",{attrs:{type:"date",placeholder:"请选择制造日期"},model:{value:e.dev_time,callback:function(t){e.dev_time=t},expression:"dev_time"}})],1)])]),c("div",{staticClass:"con_line"},[c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("向日葵号：")]),c("div",{staticClass:"select_con"},[c("el-input",{attrs:{placeholder:"请输入向日葵号"},model:{value:e.dev_xrk,callback:function(t){e.dev_xrk=t},expression:"dev_xrk"}})],1)]),c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("物联卡号：")]),c("div",{staticClass:"select_con"},[c("el-input",{attrs:{placeholder:"请输入物联卡号"},model:{value:e.dev_wl,callback:function(t){e.dev_wl=t},expression:"dev_wl"}})],1)]),c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("状态：")]),c("div",{staticClass:"select_con"},[c("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.valuestate,callback:function(t){e.valuestate=t},expression:"valuestate"}},e._l(e.optionsstate,(function(e){return c("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("所属项目：")]),c("div",{staticClass:"select_con",staticStyle:{width:"184px"}},[c("el-select",{attrs:{filterable:"",placeholder:"请选择所属项目"},model:{value:e.valuepro,callback:function(t){e.valuepro=t},expression:"valuepro"}},e._l(e.optionspro,(function(e){return c("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),1)],1)])]),c("div",{staticClass:"con_line"},[c("div",{staticClass:"select_wrap"},[c("div",{staticClass:"select_title"},[e._v("备注信息：")]),c("div",{staticClass:"select_con"},[c("el-input",{attrs:{placeholder:"请输入备注信息"},model:{value:e.dev_tips,callback:function(t){e.dev_tips=t},expression:"dev_tips"}})],1)])]),c("div",{staticClass:"files_upload"},[c("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"http://112.74.169.99:21021/api/FileUpload/GatherImageUploadPost","before-upload":e.beforeUpload,"file-list":e.fileList,"on-success":e.handleAvatarSuccess,"auto-upload":!1,multiple:""}},[c("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),c("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1)],1),c("div",{staticClass:"sub_btn"},[c("el-button",{staticClass:"checkdata",attrs:{type:"primary"},on:{click:e.subdevices}},[e._v("确 定")])],1)])])])},a=[],i=(s("4160"),s("b0c0"),s("159b"),s("4360")),r=s("bc3a"),n=s.n(r),l=(s("308f"),s("d2c6")),o=s("61f7"),u={name:"AddCheck",data:function(){return{dev_name:"",dev_type:"",dev_num:"",dev_time:"",dev_xrk:"",dev_wl:"",valuepro:{},optionspro:[{value:"0",label:"仓库"}],valuestate:"",optionsstate:[{value:"1",label:"闲置"},{value:"2",label:"运行"},{value:"3",label:"故障"},{value:"4",label:"报废"}],dev_tips:"",fileList:[],fileListafter:[],fileBefore:[]}},mounted:function(){this.updata()},methods:{back:function(){this.$router.push({path:"/asset/asset-check"})},updata:function(){var e=this;e.$nextTick((function(){Object(l["b"])(i["a"].getters.userid).then((function(t){t.success&&t.result.forEach((function(t){"已完成"!=t.status&&e.optionspro.push({value:t.id,label:t.projectNameCN})}))}))}))},subdevices:function(){var e=this,t=!1,s=!1,c=!1,a=!1,i=!1;e.dev_time?t=!0:e.$alert("请选择制造日期",{confirmButtonText:"确定",center:!0}),e.valuestate?s=!0:e.$alert("请选择状态",{confirmButtonText:"确定",center:!0}),""===e.dev_num?e.$alert("请输入设备编号",{confirmButtonText:"确定",center:!0}):c=!0,""===e.dev_type?e.$alert("请输入设备型号",{confirmButtonText:"确定",center:!0}):a=!0,""===e.dev_name?e.$alert("请输入设备名称",{confirmButtonText:"确定",center:!0}):i=!0;var r={devCN:e.dev_name,deviceCode:e.dev_num,deviceType:e.dev_type,projectID:e.valuepro.value,projectName:e.valuepro.label,devicestate:e.valuestate,describe:"",xrkid:e.dev_xrk,cardID:e.dev_wl,creatTime:e.dev_time,remark1:e.dev_tips,remark2:JSON.stringify(e.fileListafter),remark3:""};t&&s&&c&&a&&i&&n.a.post("http://112.74.169.99:21021/api/services/app/AssetService/CreatOrUpdateAssetInfo",JSON.stringify(r),{headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}}).then((function(t){200==t.status&&e.$router.push({path:"/asset/asset-check"})}))},submitUpload:function(){this.$refs.upload.submit()},handleAvatarSuccess:function(e){if(e.success){var t=[];t.push(e.result.filename),t.push(e.result.fileurl),this.fileListafter.push(t)}},beforeUpload:function(e){if(this.fileBefore.push(e.name),Object(o["k"])(this.fileBefore))return this.$notify({title:"提示",message:"已删除重复文件"+e.name}),!1}}},d=u,v=(s("cd07"),s("2877")),p=Object(v["a"])(d,c,a,!1,null,"0b0d8e30",null);t["default"]=p.exports},ccfe:function(e,t,s){e.exports=s.p+"static/img/back.62a7057e.svg"},cd07:function(e,t,s){"use strict";var c=s("297b"),a=s.n(c);a.a}}]);