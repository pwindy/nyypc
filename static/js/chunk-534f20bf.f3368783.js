(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-534f20bf"],{"015d":function(e,t,a){"use strict";a("80a3")},1:function(e,t){},2:function(e,t){},3:function(e,t){},"308f":function(e,t,a){"use strict";a.d(t,"r",(function(){return r})),a.d(t,"p",(function(){return c})),a.d(t,"o",(function(){return s})),a.d(t,"q",(function(){return i})),a.d(t,"u",(function(){return o})),a.d(t,"t",(function(){return u})),a.d(t,"s",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"i",(function(){return p})),a.d(t,"j",(function(){return v})),a.d(t,"c",(function(){return h})),a.d(t,"h",(function(){return b})),a.d(t,"e",(function(){return f})),a.d(t,"k",(function(){return m})),a.d(t,"l",(function(){return y})),a.d(t,"m",(function(){return g})),a.d(t,"n",(function(){return j})),a.d(t,"f",(function(){return S})),a.d(t,"a",(function(){return C})),a.d(t,"b",(function(){return w})),a.d(t,"g",(function(){return k}));var n=a("b775");function r(e,t){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectInfosBySearchAndUserid?search="+e+"&userid="+t,method:"get"})}function c(e){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectInfoByID?Id="+e,method:"get"})}function s(e){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectEditDevice?projectid="+e,method:"get"})}function i(e){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectMemberListByProjectId?id="+e,method:"get"})}function o(e){return Object(n["a"])({url:"/services/app/ProjectService/ProjectInfoUpdate",method:"post",data:e})}function u(){return Object(n["a"])({url:"/services/app/ProjectService/GetUserByProjectID",method:"get"})}function l(){return Object(n["a"])({url:"/services/app/ProjectService/GetUnUserDevice",method:"get"})}function d(e){return Object(n["a"])({url:"/services/app/ProjectService/CreatProjectInfo",method:"post",data:e})}function p(){return Object(n["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroups",method:"get"})}function v(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroupsBySearch?search="+e,method:"get"})}function h(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/CreatDeviceGroup",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroupByGroupID?id="+e,method:"get"})}function f(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/DeviceGroupUpdate",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/services/app/DeviceService/GetDevicePropertyListByTypeID?id="+e,method:"get"})}function y(){return Object(n["a"])({url:"/services/app/DeviceService/GetDeviceTypeList",method:"get"})}function g(){return Object(n["a"])({url:"/services/app/AssetService/GetAssetInfos",method:"get"})}function j(e,t){return Object(n["a"])({url:"/services/app/AssetService/GetAssetInfoBySearch?type="+e+"&search="+t,method:"get"})}function S(e){return Object(n["a"])({url:"/services/app/AssetService/GetAssetInfoByID?id="+e,method:"get"})}function C(e,t,a){return Object(n["a"])({url:"/services/app/ReportService/GetReport_DeviceDay?devID="+e+"&start="+t+"&end="+a,method:"get"})}function w(e,t,a){return Object(n["a"])({url:"/services/app/ReportService/GetReport_ProjectDay?projectID="+e+"&start="+t+"&end="+a,method:"get"})}function k(e){return Object(n["a"])({url:"/services/app/AssetService/GetCirculationByAssetID?id="+e,method:"get"})}},"78aa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"container_wrap"},[a("div",{staticClass:"con_tit"},[e._v(" 项目登记 ")]),a("div",{staticClass:"table_wrap"},[a("div",{staticClass:"select_wrap"},[a("div",{staticClass:"select_con",staticStyle:{width:"10%"}},[a("el-select",{attrs:{placeholder:"请选择资产属性"},on:{change:function(t){return e.changeProperty(t)}},model:{value:e.valuetype,callback:function(t){e.valuetype=t},expression:"valuetype"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),"4"===e.valuetype?a("div",{staticClass:"input_con",staticStyle:{width:"10%"}},[a("el-select",{attrs:{placeholder:"请选择状态类型"},model:{value:e.statetype,callback:function(t){e.statetype=t},expression:"statetype"}},e._l(e.stateoptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):a("div",{staticClass:"input_con",staticStyle:{width:"10%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchcon,expression:"searchcon"}],attrs:{type:"text",placeholder:"请输入搜索内容"},domProps:{value:e.searchcon},on:{input:function(t){t.target.composing||(e.searchcon=t.target.value)}}})]),a("div",{staticClass:"btn_con"},[a("el-button",{staticClass:"checkdata",attrs:{type:"primary",loading:e.loadingbtn},on:{click:e.subdata}},[e._v(e._s(e.loadingbuttext))])],1),a("div",{staticClass:"btn_con"},[a("el-button",{staticClass:"checkdata",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.exportOrderData()}}},[e._v("导出Excel")])],1),a("div",{staticClass:"btn_con"},[a("el-button",{staticClass:"checkdata",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.showallnormal()}}},[e._v("重置所有数据")])],1),a("div",{staticClass:"add_btn"},[a("el-button",{staticClass:"checkdata",attrs:{type:"primary"},on:{click:e.adddevices}},[e._v("添加设备")])],1)]),a("div",{staticStyle:{display:"none"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.usedata,stripe:"","cell-style":{bdeviceCodeackground:"#08182C"},id:"out-table"}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"devices",label:"设备名称",width:"270"}}),a("el-table-column",{attrs:{prop:"number",label:"编号",width:"250"}}),a("el-table-column",{attrs:{prop:"project",label:"所属项目"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"150"}}),a("el-table-column",{attrs:{prop:"tips",label:"备注信息",width:"200"}}),a("el-table-column",{attrs:{prop:"devicesid",label:"详  情",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"buttonText",staticStyle:{cursor:"pointer"},attrs:{type:"primary"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1),a("div",{staticClass:"table_con"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fenyelist,stripe:"","cell-style":{bdeviceCodeackground:"#08182C"}}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"devices",label:"设备名称",width:"270"}}),a("el-table-column",{attrs:{prop:"number",label:"编号",width:"250"}}),a("el-table-column",{attrs:{prop:"project",label:"所属项目"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"150","render-header":e.renderHeader}}),a("el-table-column",{attrs:{prop:"tips",label:"备注信息",width:"200"}}),a("el-table-column",{attrs:{prop:"devicesid",label:"数 据",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"buttonText",staticStyle:{cursor:"pointer"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleData(t.$index,t.row)}}},[e._v("查看")])]}}])}),a("el-table-column",{attrs:{prop:"devicesid",label:"详  情",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"buttonText",staticStyle:{cursor:"pointer"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1)],1),a("div",{staticClass:"table_page"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","page-size":e.pagesize,layout:"total, prev, pager, next",total:e.datalength},on:{"current-change":e.handleCurrentChange}})],1)])])])])},r=[],c=(a("99af"),a("fb6a"),a("a9e3"),a("d3b7"),a("159b"),a("4360"),a("21a6")),s=a.n(c),i=a("1146"),o=a.n(i),u=a("308f"),l={name:"AssetCheck",data:function(){return{options:[{value:"1",label:"设备名称"},{value:"2",label:"编号"},{value:"3",label:"所属项目"},{value:"4",label:"状态"}],valuetype:"",searchcon:"",stateoptions:[{value:"1",label:"闲置"},{value:"2",label:"运行"},{value:"3",label:"故障"},{value:"4",label:"报废"}],statetype:"",loadingbtn:!1,loadingbuttext:"查 询",seacrinput:"",usedata:[],datalength:0,pagesize:10,curentpage:1}},mounted:function(){var e=this;e.$nextTick((function(){Object(u["m"])().then((function(t){t.success&&(e.datalength=t.result.length,t.result.forEach((function(t){e.usedata.push({id:t.id,devices:t.devCN,number:t.deviceType,project:t.projectName,status:e.changeState(t.devicestate),devicesid:t.id,tips:t.remark1,devID:Number(t.deviceCode)})})))}))}))},methods:{handleCurrentChange:function(e){this.curentpage=e},subdata:function(){var e=this,t=this;t.valuetype?4==t.valuetype?t.statetype?(t.seacrinput=t.statetype,t.loadingbtn=!0,t.loadingbuttext="查询中..."):this.$alert("请选择状态类型",{confirmButtonText:"确定",center:!0}):t.searchcon?(t.seacrinput=t.searchcon,t.loadingbtn=!0,t.loadingbuttext="查询中..."):this.$alert("请输入搜索内容",{confirmButtonText:"确定",center:!0}):this.$alert("请选择资产属性",{confirmButtonText:"确定",center:!0}),Object(u["n"])(t.valuetype,t.seacrinput).then((function(a){a.success&&(t.usedata=[],a.result?(console.log(a.result),t.datalength=a.result.length,a.result.forEach((function(e){t.usedata.push({id:e.id,devices:e.devCN,number:e.deviceType,project:e.projectName,status:t.changeState(e.devicestate),devicesid:e.id,tips:e.remark1,devID:Number(e.deviceCode)})}))):t.datalength=0,e.loadingbtn=!1,e.loadingbuttext="查 询")}))},adddevices:function(){this.$router.push({path:"/asset/add-check"})},handleEdit:function(e,t){this.$router.push({path:"/asset/asset-detail",query:{id:t.id}})},handleData:function(e,t){console.log(t),this.$router.push({path:"/asset/asset-data",query:{id:t.devID,number:t.number}})},changeProperty:function(e){4==e?this.statetype="":this.searchcon=""},changeState:function(e){return 1==e?"闲置":2==e?"运行":3==e?"故障":4==e?"报废":void 0},renderHeader:function(){var e=this,t=this.$createElement;return t("div",[t("el-button",{attrs:{size:"small"},on:{click:function(){return e.showfilters()}}},["状态 ",t("span",{class:"el-icon-sort"})])])},showfilters:function(){var e=[],t=[],a=[],n=[],r=[];this.usedata.forEach((function(e){"闲置"==e.status&&t.push(e),"运行"==e.status&&a.push(e),"故障"==e.status&&n.push(e),"报废"==e.status&&r.push(e)})),e=t.concat(a,n,r),this.usedata=[],this.usedata=e},exportOrderData:function(){var e={raw:!0},t=o.a.utils.table_to_book(document.querySelector("#out-table"),e),a=o.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{s.a.saveAs(new Blob([a],{type:"application/octet-stream"}),"资产登记.xlsx")}catch(n){"undefined"!==typeof console&&console.log(n,a)}return a},showallnormal:function(){var e=this;this.usedata=[],Object(u["m"])().then((function(t){t.success&&(e.datalength=t.result.length,t.result.forEach((function(t){e.usedata.push({id:t.id,devices:t.devCN,number:t.deviceType,project:t.projectName,status:e.changeState(t.devicestate),devicesid:t.id,tips:t.remark1})})))}))}},computed:{fenyelist:function(){return this.usedata.slice((this.curentpage-1)*this.pagesize,this.curentpage*this.pagesize)}}},d=l,p=(a("015d"),a("2877")),v=Object(p["a"])(d,n,r,!1,null,"401f85f8",null);t["default"]=v.exports},"80a3":function(e,t,a){}}]);