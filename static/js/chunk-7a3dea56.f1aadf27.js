(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a3dea56"],{2037:function(e,t,r){},"28a0":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},3022:function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!k(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,c=n.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=c)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),a=n[r];r<c;a=n[++r])g(a)||!w(a)?s+=" "+a:s+=" "+o(a);return s},t.deprecate=function(r,n){if("undefined"!==typeof e&&!0===e.noDeprecation)return r;if("undefined"===typeof e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;function c(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}return c};var c,s={};function o(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&t._extend(n,r),N(n.showHidden)&&(n.showHidden=!1),N(n.depth)&&(n.depth=2),N(n.colors)&&(n.colors=!1),N(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),l(n,e,n.depth)}function a(e,t){var r=o.styles[t];return r?"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m":e}function u(e,t){return e}function p(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}function l(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return k(i)||(i=l(e,i,n)),i}var c=d(e,r);if(c)return c;var s=Object.keys(r),o=p(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),x(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(S(r)){var a=r.name?": "+r.name:"";return e.stylize("[Function"+a+"]","special")}if(D(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(C(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return f(r)}var u,y="",g=!1,j=["{","}"];if(b(r)&&(g=!0,j=["[","]"]),S(r)){var _=r.name?": "+r.name:"";y=" [Function"+_+"]"}return D(r)&&(y=" "+RegExp.prototype.toString.call(r)),C(r)&&(y=" "+Date.prototype.toUTCString.call(r)),x(r)&&(y=" "+f(r)),0!==s.length||g&&0!=r.length?n<0?D(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=g?v(e,r,n,o,s):s.map((function(t){return m(e,r,n,o,t,g)})),e.seen.pop(),h(u,y,j)):j[0]+y+j[1]}function d(e,t){if(N(t))return e.stylize("undefined","undefined");if(k(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return _(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function v(e,t,r,n,i){for(var c=[],s=0,o=t.length;s<o;++s)M(t,String(s))?c.push(m(e,t,r,n,String(s),!0)):c.push("");return i.forEach((function(i){i.match(/^\d+$/)||c.push(m(e,t,r,n,i,!0))})),c}function m(e,t,r,n,i,c){var s,o,a;if(a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},a.get?o=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(o=e.stylize("[Setter]","special")),M(n,i)||(s="["+i+"]"),o||(e.seen.indexOf(a.value)<0?(o=g(r)?l(e,a.value,null):l(e,a.value,r-1),o.indexOf("\n")>-1&&(o=c?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n"))):o=e.stylize("[Circular]","special")),N(s)){if(c&&i.match(/^\d+$/))return o;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function h(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function b(e){return Array.isArray(e)}function y(e){return"boolean"===typeof e}function g(e){return null===e}function j(e){return null==e}function _(e){return"number"===typeof e}function k(e){return"string"===typeof e}function O(e){return"symbol"===typeof e}function N(e){return void 0===e}function D(e){return w(e)&&"[object RegExp]"===I(e)}function w(e){return"object"===typeof e&&null!==e}function C(e){return w(e)&&"[object Date]"===I(e)}function x(e){return w(e)&&("[object Error]"===I(e)||e instanceof Error)}function S(e){return"function"===typeof e}function E(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function I(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(N(c)&&(c=Object({NODE_ENV:"production",VUE_APP_BASE_API:"http://112.74.169.99:21021/api",BASE_URL:""}).NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(c)){var n=e.pid;s[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else s[r]=function(){};return s[r]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=b,t.isBoolean=y,t.isNull=g,t.isNullOrUndefined=j,t.isNumber=_,t.isString=k,t.isSymbol=O,t.isUndefined=N,t.isRegExp=D,t.isObject=w,t.isDate=C,t.isError=x,t.isFunction=S,t.isPrimitive=E,t.isBuffer=r("d60a");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function G(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",G(),t.format.apply(t,arguments))},t.inherits=r("28a0"),t._extend=function(e,t){if(!t||!w(t))return e;var r=Object.keys(t),n=r.length;while(n--)e[r[n]]=t[r[n]];return e};var z="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function B(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var c=this,s=function(){return i.apply(c,arguments)};t.apply(this,r).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(T,t,s)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(z&&e[z]){var t=e[z];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,z,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],c=0;c<arguments.length;c++)i.push(arguments[c]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(s){r(s)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),z&&Object.defineProperty(t,z,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=z,t.callbackify=B}).call(this,r("4362"))},"308f":function(e,t,r){"use strict";r.d(t,"r",(function(){return i})),r.d(t,"p",(function(){return c})),r.d(t,"o",(function(){return s})),r.d(t,"q",(function(){return o})),r.d(t,"u",(function(){return a})),r.d(t,"t",(function(){return u})),r.d(t,"s",(function(){return p})),r.d(t,"d",(function(){return l})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return f})),r.d(t,"c",(function(){return v})),r.d(t,"h",(function(){return m})),r.d(t,"e",(function(){return h})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return y})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return j})),r.d(t,"f",(function(){return _})),r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return O})),r.d(t,"g",(function(){return N}));var n=r("b775");function i(e,t){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectInfosBySearchAndUserid?search="+e+"&userid="+t,method:"get"})}function c(e){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectInfoByID?Id="+e,method:"get"})}function s(e){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectEditDevice?projectid="+e,method:"get"})}function o(e){return Object(n["a"])({url:"/services/app/ProjectService/GetProjectMemberListByProjectId?id="+e,method:"get"})}function a(e){return Object(n["a"])({url:"/services/app/ProjectService/ProjectInfoUpdate",method:"post",data:e})}function u(){return Object(n["a"])({url:"/services/app/ProjectService/GetUserByProjectID",method:"get"})}function p(){return Object(n["a"])({url:"/services/app/ProjectService/GetUnUserDevice",method:"get"})}function l(e){return Object(n["a"])({url:"/services/app/ProjectService/CreatProjectInfo",method:"post",data:e})}function d(){return Object(n["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroups",method:"get"})}function f(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroupsBySearch?search="+e,method:"get"})}function v(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/CreatDeviceGroup",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/GetDeviceGroupByGroupID?id="+e,method:"get"})}function h(e){return Object(n["a"])({url:"/services/app/DeviceGroupService/DeviceGroupUpdate",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/services/app/DeviceService/GetDevicePropertyListByTypeID?id="+e,method:"get"})}function y(){return Object(n["a"])({url:"/services/app/DeviceService/GetDeviceTypeList",method:"get"})}function g(){return Object(n["a"])({url:"/services/app/AssetService/GetAssetInfos",method:"get"})}function j(e,t){return Object(n["a"])({url:"/services/app/AssetService/GetAssetInfoBySearch?type="+e+"&search="+t,method:"get"})}function _(e){return Object(n["a"])({url:"/services/app/AssetService/GetAssetInfoByID?id="+e,method:"get"})}function k(e,t,r){return Object(n["a"])({url:"/services/app/ReportService/GetReport_DeviceDay?devID="+e+"&start="+t+"&end="+r,method:"get"})}function O(e,t,r){return Object(n["a"])({url:"/services/app/ReportService/GetReport_ProjectDay?projectID="+e+"&start="+t+"&end="+r,method:"get"})}function N(e){return Object(n["a"])({url:"/services/app/AssetService/GetCirculationByAssetID?id="+e,method:"get"})}},ccfe:function(e,t,r){e.exports=r.p+"static/img/back.62a7057e.svg"},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d670:function(e,t,r){"use strict";r("2037")},dc8b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("img",{staticClass:"back_icon",attrs:{src:r("ccfe"),alt:""},on:{click:function(t){return e.goback()}}}),n("div",{staticClass:"container_wrap"},[n("div",{staticClass:"con_tit"},[e._v(" 编辑项目 ")]),n("div",{staticClass:"table_wrap",staticStyle:{"overflow-y":"auto"}},[n("div",{staticClass:"moduleclass"},[n("div",{staticClass:"con_list"},[n("div",{staticClass:"select_wrap"},[n("div",{staticClass:"select_title"},[e._v("项目名称：")]),n("div",{staticClass:"select_con"},[n("el-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.projectNameCN,callback:function(t){e.projectNameCN=t},expression:"projectNameCN"}})],1)]),n("div",{staticClass:"select_wrap"},[n("div",{staticClass:"select_title"},[e._v("项目状态：")]),n("div",{staticClass:"select_con"},[n("el-select",{staticClass:"selectpro",attrs:{placeholder:"请选择项目状态"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statelist,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)]),n("div",{staticClass:"select_wrap "},[n("div",{staticClass:"select_title"},[e._v("项目设备：")]),n("div",{staticClass:"select_con"},[e._l(e.projectdevicesNAME,(function(t,r){return n("span",{key:r,staticClass:"devicesspan"},[e._v(e._s(t))])})),n("p",{staticClass:"devices_btn",on:{click:function(t){return e.changedevices()}}},[e._v("点击编辑项目设备")])],2)]),n("div",{staticClass:"select_wrap "},[n("div",{staticClass:"select_title"},[e._v("项目成员：")]),n("div",{staticClass:"select_con"},[e._l(e.projectnumbersNAME,(function(t,r){return n("span",{key:r,staticClass:"devicesspan"},[e._v(e._s(t))])})),n("p",{staticClass:"devices_btn",on:{click:function(t){return e.changemembers()}}},[e._v("点击编辑项目人员")])],2)]),n("div",{staticClass:"select_wrap "},[n("div",{staticClass:"select_title tit_produce"},[e._v("项目简介：")]),n("div",{staticClass:"select_con con_produce"},[n("el-input",{attrs:{type:"textarea",placeholder:"请输入文字"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)]),n("div",{staticClass:"sub_btn"},[n("el-button",{staticClass:"checkdata",attrs:{type:"primary"},on:{click:function(t){return e.sub_edit()}}},[e._v("确 定")])],1)])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.devicesmodel,expression:"devicesmodel"}],staticClass:"layouts"},[n("div",{staticClass:"layoutsMain"},[n("div",{staticClass:"title"},[e._v("添加设备")]),e._m(0),n("div",{staticClass:"btn-wrapper"},[n("span",{staticClass:"a-btn-01",staticStyle:{"font-size":"12px"},on:{click:function(t){return e.forsuredevices()}}},[e._v("确定")]),n("span",{staticClass:"a-btn-02",staticStyle:{"font-size":"12px"},on:{click:function(t){e.devicesmodel=!1}}},[e._v("取消")])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.numbersmodel,expression:"numbersmodel"}],staticClass:"layouts"},[n("div",{staticClass:"layoutsMain"},[n("div",{staticClass:"title"},[e._v("添加人员")]),e._m(1),n("div",{staticClass:"btn-wrapper"},[n("span",{staticClass:"a-btn-01",staticStyle:{"font-size":"12px"},on:{click:function(t){return e.forsurenumbers()}}},[e._v("确定")]),n("span",{staticClass:"a-btn-02",staticStyle:{"font-size":"12px"},on:{click:function(t){e.numbersmodel=!1}}},[e._v("取消")])])])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-wrapper"},[r("div",{staticClass:"checkbox_devices checkboxwrapper"})])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-wrapper"},[r("div",{staticClass:"checkbox_numbers checkboxwrapper"})])}],c=(r("a4d3"),r("e01a"),r("99af"),r("a15b"),r("d3b7"),r("25f0"),r("4360"),r("bc3a"),r("308f")),s=(r("3022"),{name:"ProjectEdit",data:function(){return{projectid:this.$route.query.id,editbackdata:{},projectNameCN:"",description:"",status:"",statelist:["运行中","通信异常","已完成"],projectnumbersNormalNAME:[],projectnumbersNormalID:[],projectnumbersNAME:[],projectnumbersID:[],numbersmodel:!1,projectdevicesNAME:[],projectdevicesID:[],devicesmodel:!1}},mounted:function(){var e=this;e.$nextTick((function(){Object(c["p"])(e.projectid).then((function(t){if(t.success){var r=t.result;e.editbackdata=t.result,e.projectNameCN=r.projectNameCN,e.description=r.description,e.status=r.status,r.projectDeviceName?e.projectdevicesNAME=r.projectDeviceName.split(","):e.projectdevicesNAME=[],r.projectdevicesID?e.projectdevicesID=r.projectDevice.split(","):e.projectdevicesID=[]}})),Object(c["q"])(e.projectid).then((function(t){if(t.success)for(var r=t.result,n=0;n<r.length;n++)e.projectnumbersNormalNAME.push(r[n].userName),e.projectnumbersNormalID.push(r[n].userID),e.projectnumbersNAME.push(r[n].userName),e.projectnumbersID.push(r[n].userID)}))}))},methods:{goback:function(){this.$router.push({path:"/asset/project-manage"})},changedevices:function(){var e=this;Object(c["o"])(this.projectid).then((function(t){if(e.devicesmodel=!0,t.success){for(var r=[],n=t.result,i=0;i<n.length;i++){var c=e.projectdevicesNAME.indexOf(n[i].groupName)>-1;r.push('<label><input style="width:12px;height:12px;border:1px solid rgba(1,103,255,0.3);background:transparent;color:#0167FF;margin-left: 5px;" type="checkbox" '+(c?"checked":null)+' name="'+n[i].groupName+'" value="'+n[i].deviceID+'"/><span style="font-family: MicrosoftYaHei;font-size: 14px;color: #6C7B96;letter-spacing: 0.88px;font-weight: 400;">'+n[i].groupName+"</span></label>")}$(".checkbox_devices").html(r.join(""))}}))},forsuredevices:function(){var e=$(".checkbox_devices input[type=checkbox]:checked");this.projectdevicesID=[],this.projectdevicesNAME=[];for(var t=e.length,r=0;r<t;r++)this.projectdevicesID.push(e.eq(r).val()),this.projectdevicesNAME.push(e.eq(r).attr("name"));this.devicesmodel=!1},changemembers:function(){var e=this;Object(c["t"])().then((function(t){if(e.numbersmodel=!0,t.success){for(var r=[],n=t.result,i=0;i<n.length;i++){var c=e.projectnumbersNAME.indexOf(n[i].userName)>-1;r.push('<label><input style="width:12px;height:12px;border:1px solid rgba(1,103,255,0.3);background:transparent;color:#0167FF;margin-left: 5px;" type="checkbox" '+(c?"checked":null)+' name="'+n[i].userName+'" value="'+n[i].userID+'"/><span style="font-family: MicrosoftYaHei;font-size: 14px;color: #6C7B96;letter-spacing: 0.88px;font-weight: 400;">'+n[i].userName+"</span></label>")}$(".checkbox_numbers").html(r.join(""))}}))},forsurenumbers:function(){var e=$(".checkbox_numbers input[type=checkbox]:checked");this.projectnumbersID=[],this.projectnumbersNAME=[];for(var t=0;t<e.length;t++)this.projectnumbersID.push(e.eq(t).val()),this.projectnumbersNAME.push(e.eq(t).attr("name"));this.projectnumbersID=this.projectnumbersID.concat(this.projectnumbersNormalID),this.projectnumbersNAME=this.projectnumbersNAME.concat(this.projectnumbersNormalNAME),this.numbersmodel=!1},sub_edit:function(){var e=this;if(this.projectNameCN)if(this.status)if(0!=this.projectdevicesID.length){var t={id:this.editbackdata.id,projectNameCN:this.projectNameCN,description:this.description,status:this.status,personNum:this.editbackdata.personNum,managerName:this.projectnumbersID.toString(),longitude:this.editbackdata.longitude,latitude:this.editbackdata.latitude,province:this.editbackdata.province,city:this.editbackdata.city,creatTime:this.editbackdata.creatTime,updataTime:this.editbackdata.updataTime,endTime:this.editbackdata.endTime,maxAlarmPhone:this.editbackdata.maxAlarmPhone,alarmPhone:this.editbackdata.alarmPhone,projectRemark:this.editbackdata.projectRemark,projectDevice:this.projectdevicesID.toString(),projectDeviceName:this.projectdevicesNAME.toString(),remark1:this.editbackdata.remark1,remark2:this.editbackdata.remark2,remark3:this.editbackdata.remark3};Object(c["u"])(t).then((function(t){t.success&&(layer.msg("提交成功",{icon:1,time:1e3}),e.$router.push({path:"/asset/project-manage"}))}))}else layer.msg("请添加项目设备",{icon:2,time:1e3});else layer.msg("请选择项目状态",{icon:2,time:1e3});else layer.msg("请输入项目名称",{icon:2,time:1e3})}}}),o=s,a=(r("d670"),r("2877")),u=Object(a["a"])(o,n,i,!1,null,"08208d61",null);t["default"]=u.exports}}]);